


<!doctype html>
<html class="no-js" lang="en">
  
<head><!-- begin head.html -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
    Download files command | Scylla Docs
    </title>
    <meta name="description" content="Scylla is an Apache Cassandra-compatible NoSQL data store that can handle 1 million transactions per second on a single server."/>

    <link rel="icon" href="../_static/img/favicon.ico" type="image/x-icon"/>
    <link rel="canonical" href="https://docs.scylladb.com/">
    <link rel="author" href="mailto:info@scylladb.com">
    <link rel="stylesheet" href="../_static/" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_tabs/tabs.css" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/foundation.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/doc/main.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/v4-shims.css"/>
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>

    <script src="../_static/js/vendor/modernizr.js"></script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T8P2JP');</script>
    <!-- End Google Tag Manager -->

    <!-- Marketo -->
    <script type="text/javascript"> (function() { var didInit = false; function initMunchkin() { if(didInit === false) { didInit = true; Munchkin.init('791-QBF-350'); } } var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//munchkin.marketo.net/munchkin.js'; s.onreadystatechange = function() { if (this.readyState == 'complete' || this.readyState == 'loaded') { initMunchkin(); } }; s.onload = initMunchkin; document.getElementsByTagName('head')[0].appendChild(s); })(); </script>
    <!-- End Marketo -->

<!-- end head.html -->
</head>

<body>



<header id="header" class="animated">
    <div class="topbar_continer contain-to-grid clearfix">
        <nav class="top-bar" id="top-bar" data-topbar role="navigation">
            <ul class="title-area">
                <li class="name">
                    <div class="logo">
                        <a href="https://docs.scylladb.com/"><img src="../_static/img/logo-scylla-docs.svg" alt="" width="151"></a>
                    </div>
                </li>
                <li class="toggle-topbar"><a href="#"><span class="icon-manu"></span></a></li>
            </ul>
            <section class="top-bar-section clearfix">
                <ul class="right">
                    
                    <li>
                        <a href="https://manager.docs.scylladb.com/">Scylla Manager</a>
                    </li>
                    
                    <li>
                        <a href="https://scylladb.github.io/scylla-monitoring/">Scylla Monitor</a>
                    </li>
                    
                    <li>
                        <a href="https://docs.scylladb.com/scylla-cloud/">Scylla Cloud</a>
                    </li>
                    
                    <li>
                        <a href="https://university.scylladb.com/">Scylla University</a>
                    </li>
                    
                    <li>
                        <a href="https://www.scylladb.com/">ScyllaDB Home</a>
                    </li>
                    
                    <li class="search_continer show-for-medium-up">	
                        <ci-search></ci-search>	
                    </li>	
                </ul>
            </section>
        </nav>
    </div>
</header>
<section id="content">
    <div class="row">
	
	<div class="large-6 large-push-3 columns">

        
        <div class="admonition caution">
            <p class="admonition-title">Caution</p>
            
            You are reading an unstable version of this documentation.
            
            If you want up-to-date information, please have a look at 
            <a href="../../stable/restore/download-files-command.html">
                
                    2.4
                        
            </a>.
        </div>
        

        <section id="download-files-command">
<h1>Download files command<a class="headerlink" href="#download-files-command" title="Permalink to this headline">¶</a></h1>
<p>Scylla Manger Agent comes with a download-files subcommand that given a backup location can be used to:</p>
<ol class="arabic simple">
<li><p>List clusters, datacenters and nodes.</p></li>
<li><p>Search for snapshot tags.</p></li>
<li><p>Download files without a need for third-party tools.</p></li>
</ol>
<section id="download-files">
<h2>Download-files<a class="headerlink" href="#download-files" title="Permalink to this headline">¶</a></h2>
<p><strong>Syntax:</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>scylla-manager-agent download-files --location &lt;backup location&gt; [OPTION]...
</pre></div>
</div>
<section id="parameters">
<span id="download-files-parameters"></span><h3>parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<section id="clear-tables">
<span id="download-files-param-clear-tables"></span><h4><code class="docutils literal notranslate"><span class="pre">--clear-tables</span></code><a class="headerlink" href="#clear-tables" title="Permalink to this headline">¶</a></h4>
<p>Remove sstables before downloading</p>
<hr class="docutils" />
</section>
<section id="c-config-file-path">
<span id="download-files-param-config-file"></span><h4><code class="docutils literal notranslate"><span class="pre">-c,</span> <span class="pre">--config-file</span> <span class="pre">path</span></code><a class="headerlink" href="#c-config-file-path" title="Permalink to this headline">¶</a></h4>
<p>Configuration file path, you can specify the flag multiple times to overwrite configuration options.</p>
<p><strong>Default:</strong> /etc/scylla-manager-agent/scylla-manager-agent.yaml</p>
<hr class="docutils" />
</section>
<section id="d-data-dir-path">
<span id="download-files-param-data-dir"></span><h4><code class="docutils literal notranslate"><span class="pre">-d,</span> <span class="pre">--data-dir</span> <span class="pre">path</span></code><a class="headerlink" href="#d-data-dir-path" title="Permalink to this headline">¶</a></h4>
<p>Path to Scylla data directory (typically /var/lib/scylla/data) or other directory to use for downloading the files.</p>
<p><strong>Default:</strong> current directory</p>
<hr class="docutils" />
</section>
<section id="debug">
<span id="download-files-param-debug"></span><h4><code class="docutils literal notranslate"><span class="pre">--debug</span></code><a class="headerlink" href="#debug" title="Permalink to this headline">¶</a></h4>
<p>Enable debug logs.</p>
<p><strong>Default:</strong> current directory</p>
<hr class="docutils" />
</section>
<section id="dry-run">
<span id="download-files-param-dry-run"></span><h4><code class="docutils literal notranslate"><span class="pre">--dry-run</span></code><a class="headerlink" href="#dry-run" title="Permalink to this headline">¶</a></h4>
<p>Validate and print a plan without downloading (or clearing) any files.</p>
<hr class="docutils" />
</section>
<section id="dump-manifest">
<span id="download-files-param-dump-manifest"></span><h4><code class="docutils literal notranslate"><span class="pre">--dump-manifest</span></code><a class="headerlink" href="#dump-manifest" title="Permalink to this headline">¶</a></h4>
<p>Print Scylla Manager backup manifest as JSON.</p>
<hr class="docutils" />
</section>
<section id="dump-tokens">
<span id="download-files-param-dump-tokens"></span><h4><code class="docutils literal notranslate"><span class="pre">--dump-tokens</span></code><a class="headerlink" href="#dump-tokens" title="Permalink to this headline">¶</a></h4>
<p>Print list of tokens from the manifest.</p>
<hr class="docutils" />
</section>
<section id="k-keyspace-list">
<span id="download-files-param-keyspace"></span><h4><code class="docutils literal notranslate"><span class="pre">-K,</span> <span class="pre">--keyspace</span> <span class="pre">list</span></code><a class="headerlink" href="#k-keyspace-list" title="Permalink to this headline">¶</a></h4>
<p>A comma-separated list of keyspace/tables glob patterns, e.g. ‘keyspace,!keyspace.table_prefix_*’.</p>
<hr class="docutils" />
</section>
<section id="list-nodes">
<span id="download-files-param-list-nodes"></span><h4><code class="docutils literal notranslate"><span class="pre">--list-nodes</span></code><a class="headerlink" href="#list-nodes" title="Permalink to this headline">¶</a></h4>
<p>Print list of nodes including cluster name and node IP, this command would help you find nodes you can restore data from.</p>
<hr class="docutils" />
</section>
<section id="list-snapshots">
<span id="download-files-param-list-snapshots"></span><h4><code class="docutils literal notranslate"><span class="pre">--list-snapshots</span></code><a class="headerlink" href="#list-snapshots" title="Permalink to this headline">¶</a></h4>
<p>Print list of snapshots of the specified node, this also takes into account keyspace filter and returns only snapshots containing any of requested keyspaces or tables, newest snapshots are printed first.</p>
<hr class="docutils" />
</section>
<section id="l-location-string">
<span id="download-files-param-location"></span><h4><code class="docutils literal notranslate"><span class="pre">-L,</span> <span class="pre">--location</span> <span class="pre">string</span></code><a class="headerlink" href="#l-location-string" title="Permalink to this headline">¶</a></h4>
<p>Backup location in the format &lt;provider&gt;:&lt;name&gt; e.g. s3:my-bucket, the supported providers are: s3, gcs, azure.</p>
<hr class="docutils" />
</section>
<section id="mode-upload-sstableloader">
<span id="download-files-param-mode"></span><h4><code class="docutils literal notranslate"><span class="pre">--mode</span> <span class="pre">upload,</span> <span class="pre">sstableloader</span></code><a class="headerlink" href="#mode-upload-sstableloader" title="Permalink to this headline">¶</a></h4>
<p>Mode changes resulting directory structure, supported values are: upload, sstableloader, set ‘upload’ to use table upload directories, set ‘sstableloader’ for &lt;keyspace&gt;/&lt;table&gt; directories layout.</p>
<hr class="docutils" />
</section>
<section id="n-node-id">
<span id="download-files-param-node"></span><h4><code class="docutils literal notranslate"><span class="pre">-n,</span> <span class="pre">--node</span> <span class="pre">ID</span></code><a class="headerlink" href="#n-node-id" title="Permalink to this headline">¶</a></h4>
<p>‘Host ID’ value from nodetool status command output of a node you want to restore.</p>
<p><strong>Default:</strong> local node</p>
<hr class="docutils" />
</section>
<section id="p-parallel-int">
<span id="download-files-param-parallel"></span><h4><code class="docutils literal notranslate"><span class="pre">-p,</span> <span class="pre">--parallel</span> <span class="pre">int</span></code><a class="headerlink" href="#p-parallel-int" title="Permalink to this headline">¶</a></h4>
<p>How many files to download in parallel.</p>
<p><strong>Default:</strong> 8</p>
<hr class="docutils" />
</section>
<section id="rate-limit-int">
<span id="download-files-param-rate-limit"></span><h4><code class="docutils literal notranslate"><span class="pre">--rate-limit</span> <span class="pre">int</span></code><a class="headerlink" href="#rate-limit-int" title="Permalink to this headline">¶</a></h4>
<p>Rate limit in megabytes (MiB) per second.</p>
<p><strong>Default:</strong> no limit</p>
<hr class="docutils" />
</section>
<section id="t-snapshot-tag-tag">
<span id="download-files-param-snapshot-tag"></span><h4><code class="docutils literal notranslate"><span class="pre">-T,</span> <span class="pre">--snapshot-tag</span> <span class="pre">tag</span></code><a class="headerlink" href="#t-snapshot-tag-tag" title="Permalink to this headline">¶</a></h4>
<p>Scylla Manager snapshot tag as read from backup listing e.g. sm_20060102150405UTC, use –list-snapshots to get a list of snapshots of the node.</p>
</section>
</section>
</section>
</section>

        </div>

        <div id="sidebar" class="large-3 large-pull-6 columns"><div class="side-nav">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../docker/index.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install-scylla-manager.html">Install Scylla Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install-scylla-manager-agent.html">Install Scylla Manager Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../add-a-cluster.html">Add a Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../backup/index.html">Backup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Restore</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Download files command</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../repair/index.html">Repair</a></li>
<li class="toctree-l1"><a class="reference internal" href="../health-check.html">Health Check</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sctool/index.html">CLI sctool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config/index.html">Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../swagger/index.html">Swagger File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scylla-monitoring.html">Scylla Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../older-versions.html">Older Versions</a></li>
<li class="toctree-l1"><a class="reference external" href="https://scylladb-users.slack.com/archives/C01ERVBPWLU">Slack</a></li>
</ul>

</div>
        </div>

        <div class="large-3 columns">
            
                <div class="scylla-dropdown ">
    <a href="#" data-options="align:bottom" data-dropdown="drop-versions" class="scylla-dropdown__button">
        
            master
        
        <i class="fa fa-caret-down" aria-hidden="true"></i>
    </a>
    <ul id="drop-versions" class="f-dropdown scylla-dropdown__content" data-dropdown-content>
            
              <li><a href="../../branch-2.5/restore/download-files-command.html">2.5</a></li>
            
            
              <li><a href="../../stable/restore/download-files-command.html">2.4</a></li>
            
            
              <li><a href="../../branch-2.3/index.html">2.3</a></li>
            
            
              <li><a href="../../branch-2.2/index.html">2.2</a></li>
            
            
    </ul>
</div>
            
        </div>

    </div>
</section>

<!-- newsleter modal -->

<div id="newsletter_signup" class="reveal-modal tiny radius dark_modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
    <a class="close-reveal-modal" aria-label="Close">×</a>
    <h2 id="modalTitle">Sign up for the Scylla newsletter</h2>
    <div id="mc_embed_signup">
        <form action="//cloudius-systems.us10.list-manage.com/subscribe/post?u=df8bb543c68230d5f7b4dcf78&amp;id=9a4589f144" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="">
            <div id="mc_embed_signup_scroll">

                <div class="mc-field-group">
                    <div class="row collapse">
                        <div class="small-3 columns"><label for="mce-EMAIL">Email</label></div>
                        <div class="small-9 columns"><input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL"></div>
                    </div>
                </div>
                <div class="mc-field-group">
                    <div class="row collapse">
                        <div class="small-3 columns"><label for="mce-FNAME">First Name </label></div>
                        <div class="small-9 columns"><input type="text" value="" name="FNAME" class="" id="mce-FNAME"></div>
                    </div>
                </div>
                <div class="mc-field-group">
                    <div class="row collapse">
                        <div class="small-3 columns"><label for="mce-LNAME">Last Name </label></div>
                        <div class="small-9 columns"><input type="text" value="" name="LNAME" class="" id="mce-LNAME"></div>
                    </div>
                </div>
                <div id="mce-responses" class="clear">
                    <div class="response" id="mce-error-response" style="display:none"></div>
                    <div class="response" id="mce-success-response" style="display:none"></div>
                </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                <div style="position: absolute; left: -5000px;"><input type="text" name="b_df8bb543c68230d5f7b4dcf78_9a4589f144" tabindex="-1" value=""></div>
                <div class="clear"><input type="submit" class="button" value="Sign up" name="subscribe" id="mc-embedded-subscribe"></div>
            </div>
        </form>
    </div>
</div>

<!-- end newsleter modal -->



<!-- footer.html -->
<footer id="footer">
    <div class="footer-top">
        <a class="logo" href="https://www.scylladb.com"><img src="../_static/img/logo-scylla-horizontal-RGB.svg" alt=""></a>
        <div class="footer-links">
            <a class="link" href="https://docs.scylladb.com">Docs</a>
            <a class="link" href="https://www.scylladb.com/company/contact-us/">Contact Us</a>
            <a class="link" href="https://www.scylladb.com/company/">About Us</a>
          <div class="scylla-dropdown">
    <a href="#" data-options="align:top" data-dropdown="drop-contribute" class="scylla-dropdown__button">
        Contribute 
        <i class="fa fa-github" aria-hidden="true"></i>
        <i class="fa fa-caret-down" aria-hidden="true"></i>
    </a>
    <ul id="drop-contribute" class="f-dropdown scylla-dropdown__content" data-dropdown-content>
        <li><a href="https://github.com/scylladb/scylla-manager/issues/new?title=Issue in page Download files command&&body=I%20would%20like%20to%20report%20an%20issue%20in%20page%20https://manager.docs.scylladb.com/master/restore/download-files-command%0A%0A%23%23%23%20Problem%0A%0A%23%23%23%20%20Suggest%20a%20fix" target="_blank">Report a doc issue <i class="fa fa-external-link" aria-hidden="true"></i></a></li>
        <li><a href="https://docs.scylladb.com/contribute/" target="_blank">Learn how to contribute <i class="fa fa-external-link" aria-hidden="true"></i></a></li>
    </ul>
</div>
        </div>
        <div class="footer-actions">
            <a class="link-icon" href="https://github.com/ScyllaDB" target="_blank">
                <span class="icon-github2"></span></a>
            <a class="link-icon" href="https://twitter.com/ScyllaDB" target="_blank">
                <span class="icon-twitter"></span></a>
            <a class="link-icon" href="https://www.linkedin.com/company/scylladb"  target="_blank">
                <span class="icon-linkedin2"></span></a>
            <a class="link-icon" href="https://www.facebook.com/scylladb/" target="_blank">
                <span class="icon-facebook"></span></a>
        </div>
    </div>

    <div class="footer-bottom">
        <div class="footer-info">
            <div class="footer-copyright">
                &#169; 2021, ScyllaDB. All rights reserved.
            </div>
            <div class="footer-last-updated">
                Last updated on 09 August 2021.
            </div>
            <div class="footer-version">
                Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
                &amp; <a href="https://sphinx-theme.scylladb.com">ScyllaDB Theme 0.1.25</a>
            </div>
        </div>
        <div class="footer-links">
        </div>
    </div>
</footer>
<!-- end footer.html -->

<!-- bodyscripts.html -->
<!-- at the end of the BODY --> 
<script src="../_static/js/vendor/jquery.js"></script>
<script src="../_static/js/vendor/jquery.cookie.min.js"></script>
<script src="../_static/expertrec.js"></script>
<script src="../_static/js/foundation/foundation.js"></script>
<script src="../_static/js/foundation/foundation.topbar.js"></script>
<script src="../_static/js/foundation/foundation.dropdown.js"></script>
<script src="../_static/app.js"></script>
<script>
    $(document).foundation();
</script>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T8P2JP"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

  <!-- end bodyscripts.html -->
</body>
</html>